{"version":3,"sources":["utils/consts.js","components/ChengXing/ChengXingSelector.js","utils/fetch.js","components/ChengXing/index.js","components/BiblePlan/BibleSelector.js","components/BiblePlan/HourSelector.js","components/BiblePlan/index.js","components/RoomInfo/index.js","App.js","index.js"],"names":["BibleBook","ChengXingBook","bookData","map","d","name","sub","Array","fill","_","i","ChengXingSelector","title","defaultValue","onChange","useState","selectValue","setSelectValue","showPick","setShowPick","useEffect","text","match","exec","parseDto","onClick","e","preventDefault","style","textAlign","data","show","getDto","onCancel","httpEndpoint","process","fetch","url","a","prefix","window","method","body","JSON","stringify","headers","then","res","json","code","message","Error","renderCell","footer","ChengXing","chengXingPlan","roomId","showToastNextToptip","cxBook","setCxBook","openHint","setOpenHint","hintHour","setHintHour","onCxChange","updateCxModel","onPushChange","target","checked","onHintHourChange","value","modifyKey","modifyValue","newCxBook","newReminHour","nextAction","next","id","schedule","startDay","moment","format","startBookChapter","remindHour","catch","bookChapter","open","undefined","Fragment","disabled","part2Index","findIndex","book","part1","slice","part2","parsePart","partName","BibleSelector","bookName","chapterIndex","bookIndex","alert","HourSelector","setShow","selected","setSelected","toastMsg","setToastMsg","gData","includes","label","href","length","HourSelect","filter","n","copy","sort","b","join","onRequestClose","left","right","leftOnClick","rightOnClick","setTimeout","icon","TheEndBook","Type_FIXNUM","Type_FIXTIME","dateN2S","dateS2N","s","BibleSetting","biblePlan","topic","originPlan","setOriginPlan","planType","setPlanType","startBook","setStartBook","endBook","setEndBook","chapterOneDay","setChapterOneDay","setStartDay","add","endDay","setEndDay","setRemindHour","isFixNum","isFixTime","select","selectPos","paddingLeft","type","justifyContent","display","width","height","backgroundColor","err","roomName","fontSize","Room","marginTop","App","setRoomId","roomSettings","setRoomSettings","toastIcon","setToastIcon","toptipType","setToptipType","toptipMsg","setTopTipMsg","toString","location","search","showToast","time","showTopTip","callback","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5316b896.chunk.js","sourcesContent":["export const BibleBook = [\n    ['创世记', '创', 50],\n    ['出埃及记', '出', 40],\n    ['利未记', '利', 27],\n    ['民数记', '民', 36],\n    ['申命记', '申', 34],\n    ['约书亚记', '书', 24],\n    ['士师记', '士', 21],\n    ['路得记', '得', 4],\n    ['撒母耳记上', '撒上', 31],\n    ['撒母耳记下', '撒下', 24],\n    ['列王记上', '王上', 22],\n    ['列王记下', '王下', 25],\n    ['历代志上', '代上', 29],\n    ['历代志下', '代下', 36],\n    ['以斯拉记', '拉', 10],\n    ['尼希米记', '尼', 13],\n    ['以斯贴记', '斯', 10],\n    ['约伯记', '伯', 42],\n    ['诗篇', '诗', 150],\n    ['箴言', '箴', 31],\n    ['传道书', '传', 12],\n    ['雅歌', '歌', 8],\n    ['以赛亚书', '赛', 66],\n    ['耶利米书', '耶', 52],\n    ['耶利米哀歌', '哀', 5],\n    ['以西结书', '结', 48],\n    ['但以理书', '但', 12],\n    ['何西阿书', '何', 14],\n    ['约珥书', '珥', 3],\n    ['阿摩司书', '摩', 9],\n    ['俄巴底亚书', '俄', 1],\n    ['约拿书', '拿', 4],\n    ['弥迦书', '弥', 7],\n    ['那鸿书', '鸿', 3],\n    ['哈巴谷书', '哈', 3],\n    ['西番雅书', '番', 3],\n    ['哈该书', '该', 2],\n    ['撒迦利亚书', '亚', 14],\n    ['玛拉基书', '玛', 4],\n    ['马太福音', '太', 28],\n    ['马可福音', '可', 16],\n    ['路加福音', '路', 24],\n    ['约翰福音', '约', 21],\n    ['使徒行传', '徒', 28],\n    ['罗马书', '罗', 16],\n    ['哥林多前书', '林前', 16],\n    ['哥林多后书', '林后', 13],\n    ['加拉太书', '加', 6],\n    ['以弗所书', '弗', 6],\n    ['腓立比书', '腓', 4],\n    ['歌罗西书', '西', 4],\n    ['帖撒罗尼迦前书', '帖前', 5],\n    ['帖撒罗尼迦后书', '帖后', 3],\n    ['提摩太前书', '提前', 6],\n    ['提摩太后书', '提后', 4],\n    ['提多书', '多', 3],\n    ['腓利门书', '门', 1],\n    ['希伯来书', '来', 13],\n    ['雅各书', '雅', 5],\n    ['彼得前书', '彼前', 5],\n    ['彼得后书', '彼后', 3],\n    ['约翰一书', '约壹', 5],\n    ['约翰二书', '约贰', 1],\n    ['约翰三书', '约叁', 1],\n    ['犹大书', '犹', 1],\n    ['启示录', '启', 22],\n];\n\nexport const ChengXingBook = [\n    ['2020-6', 6],\n    ['2020-7', 12]\n]","import React, { useState, useEffect } from 'react';\nimport { CityPicker, FormCell, Label, CellBody } from 'react-weui';\n\nimport { ChengXingBook } from '../../utils/consts';\n\nconst bookData = (() => {\n    return ChengXingBook.map(d => ({\n        name: d[0],\n        sub: new Array(d[1]).fill(0).map((_, i) => ({ name: `第${i + 1}篇` }))\n    }));\n})()\n\nfunction getDto(text) {\n  const match = /(\\S+)\\s*第(\\d+)篇/.exec(text);\n  return (`${match[1]}-${match[2]}`)\n}\n\nfunction parseDto(text) {\n const match = /(\\S+)-(\\d+)/.exec(text);\n return (`${match[1]}-第${match[2]}篇`)\n}\n\nexport default function ChengXingSelector({ title = '本周进度', defaultValue = '', onChange }) {\n    const [selectValue, setSelectValue] = useState(defaultValue);\n    const [showPick, setShowPick] = useState(false);\n\n    function onSelect(text) {\n        setSelectValue(text)\n        setShowPick(false);\n        onChange && onChange(getDto(text))\n    }\n\n    useEffect(() => {\n        if (defaultValue) {\n            setSelectValue(parseDto(defaultValue));\n        }\n    }, [defaultValue])\n\n    return (\n        <FormCell onClick={(e) => { e.preventDefault(); setShowPick(true) }}>\n            <CellBody>\n                <Label>{title}</Label>\n            </CellBody>\n            <CellBody style={{ textAlign: 'right' }}>\n                {selectValue}\n            </CellBody>\n            <CityPicker\n                data={bookData}\n                show={showPick}\n                onChange={onSelect}\n                onCancel={()=>setShowPick(false)}\n            />\n        </FormCell>\n    )\n}","const httpEndpoint = `http://${process.env.REACT_APP_SERVER_DOMAIN}/api`;\nconst httpDevEndpoint = 'http://127.0.0.1:3002/api';\n\nexport async function fetch(url, data) {\n    const prefix = process.env.NODE_ENV === 'development' ? httpDevEndpoint : httpEndpoint;\n    return window.fetch(prefix + url, {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {\n                'content-type': 'application/json'\n            },\n        })\n        .then(res => res.json())\n        .then((res) => {\n            const {code ,data, message} = res;\n            if (code === 200) {\n                return data;\n            } else {\n                throw new Error(message)\n            }\n        })\n}","import React, {useState, useEffect}from 'react';\nimport { Select,  Switch, CellsTitle, Cells, Cell, CellBody, CellFooter} from 'react-weui';\nimport ChengXingSelector from './ChengXingSelector';\nimport {fetch} from '../../utils/fetch';\nimport moment from 'moment';\n\n\nfunction renderCell(body, footer) {\n    return (\n        <Cell>\n            <CellBody>{body}</CellBody>\n            <CellFooter>{footer}</CellFooter>\n        </Cell>\n    )\n}\n\nexport default function ChengXing({ data: { chengXingPlan }, roomId, showToastNextToptip}={}) {\n    const [cxBook, setCxBook] = useState('');\n    const [openHint, setOpenHint] = useState(false);\n    const [hintHour, setHintHour] = useState(6);\n    \n    function onCxChange(text) {\n        updateCxModel('cxBook', text);\n    }\n\n    function onPushChange(e){\n        updateCxModel('openHint', e.target.checked)\n    }\n\n    function onHintHourChange(e) {\n        const hintHour = +e.target.value;\n        updateCxModel('hintHour', hintHour)\n    }\n\n    const updateCxModel = (modifyKey, modifyValue)=>{\n        let newCxBook, newReminHour, nextAction;\n        if (modifyKey === 'cxBook') {\n            newCxBook = modifyValue;\n            newReminHour = openHint ? [hintHour] : [];\n            nextAction = setCxBook;\n        } else if (modifyKey === 'hintHour') {\n            newCxBook = cxBook;\n            newReminHour = [modifyValue]\n            nextAction = setHintHour;\n        } else {\n            newCxBook = cxBook;\n            newReminHour = modifyValue ? [hintHour] :[]\n            nextAction = setOpenHint;\n        }\n\n        showToastNextToptip('正在修改', 'loading', (next)=>{\n            fetch('/chengxing/update', {\n                id: roomId,\n                schedule: {\n                    startDay: +moment().format('YYYYMMDD'),\n                    startBookChapter: newCxBook,\n                },\n                remindHour: newReminHour\n            }).then(res=>{\n                next('修改成功', 'primary')\n                nextAction(modifyValue);\n            }).catch(()=>{\n                next('修改失败', 'warn')\n            })\n        })\n    }\n\n    useEffect(()=>{\n        if (chengXingPlan) {\n            setCxBook(chengXingPlan.bookChapter);\n            setOpenHint(chengXingPlan.open);\n            if (chengXingPlan.remindHour !== undefined) {\n                setHintHour(chengXingPlan.remindHour);\n            }\n        }\n    }, [chengXingPlan])\n\n    return (\n    <React.Fragment>\n        <CellsTitle>晨兴设置</CellsTitle>\n        <Cells>\n            <ChengXingSelector onChange={onCxChange} defaultValue={cxBook} />\n            {renderCell('晨兴推送', <Switch checked={openHint} onChange={onPushChange}/>)}\n                {renderCell('推送时间', <Select value={hintHour} disabled={!openHint} onChange={onHintHourChange}>{\n                    new Array(24).fill(0).map((_, i)=>{\n                        return <option value={i} key={i}>{i} 点整</option>\n                    })\n                }</Select>)}\n        </Cells>\n    </React.Fragment>)\n}","import React, { useState, useEffect} from 'react';\nimport { CityPicker, FormCell, Label, CellBody } from 'react-weui';\n\nimport { BibleBook } from '../../utils/consts';\n\nconst bookData = (()=>{\n    const part2Index = BibleBook.findIndex((book) => book[0] === '马太福音');\n    const part1 = BibleBook.slice(0, part2Index);\n    const part2 = BibleBook.slice(part2Index);\n    \n    return [\n        parsePart('旧约', part1),\n        parsePart('新约', part2),\n    ]\n\n    function parsePart(partName, data) {\n        const sub = data.map(d => {\n            return {\n                name: d[0],\n                sub: new Array(d[2]).fill(0).map((_, i) => ({name: `第${i+1}章`}))\n            }\n        });\n        return {\n            name: partName,\n            sub\n        }\n    }\n\n})()\n\nfunction getDto(text) {\n    const match = /(\\S+)\\s*第(\\d+)章/.exec(text);\n    return [match[1], match[2]];\n}\n\nfunction parseDto([bookName, chapterIndex]) {\n    const bookIndex = BibleBook.findIndex((book) => book[0] === bookName);\n    const part2Index = BibleBook.findIndex((book) => book[0] === '马太福音');\n    return (`${bookIndex >= part2Index ? '新约' : '旧约'} ${bookName}-第${chapterIndex}章`)\n}\n\n\nexport default function BibleSelector({ title = '开始书卷', data, onChange, disabled=false}) {\n    const [selectValue, setSelectValue] = useState(data);\n    const [showPick, setShowPick] = useState(false);\n\n    function onSelect(text) {\n        setSelectValue(text)\n        setShowPick(false);\n        onChange && onChange(getDto(text))\n    }\n\n    useEffect(()=>{\n        if (data) {\n            setSelectValue(parseDto(data));\n        }\n    }, [data])\n\n    const onClick = (e) =>{\n        e.preventDefault();\n        if (disabled) {\n            return alert('开始读经计划后，无法进行修改')\n        }\n        setShowPick(true)\n    }\n\n    return (\n        <FormCell onClick={onClick}>\n            <CellBody>\n                <Label>{title}</Label>\n            </CellBody>\n            <CellBody style={{ textAlign: 'right' }}>\n                {selectValue}\n            </CellBody>\n            <CityPicker\n                data={bookData}\n                show={showPick}\n                onChange={onSelect}\n                onCancel={() => setShowPick(false)}\n            />\n        </FormCell>\n    )\n}","import React, { useState, useEffect} from 'react';\nimport { Toast, Popup, PopupHeader, Grids, Icon} from 'react-weui';\n\n\nexport default function HourSelector({data, onChange}) {\n    const [show, setShow] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [toastMsg, setToastMsg] = useState('');\n\n    const gData = new Array(24).fill(0).map((_, i) => {\n        const checked = selected.includes(i);\n        return {\n            label: <span><Icon value={checked ? \"success-circle\" : \"circle\"} />{i + '点'}</span>,\n            href: `javascript: HourSelect(${i});`\n        }\n    })\n\n    useEffect(()=>{\n        if (data.length) {\n            setSelected(data);\n        }\n    }, [data])\n\n    const onConfirm = ()=>{\n        if (selected.length === 0) {\n            setTimeout(() => {\n                setToastMsg('');\n            }, 1000);\n            return setToastMsg('请选择');\n        }\n        setShow(false);\n        onChange(selected);\n    }\n\n    useEffect(()=>{\n        if (show) {\n            window.HourSelect = function (i) {\n                if (selected.includes(i)) {\n                    setSelected(selected.filter(n => n !== i))\n                } else {\n                    const copy = [...selected, i].sort((a, b) => (+a) - (+b));\n                    setSelected(copy)\n                }\n            }\n        }\n    }, [show, selected])\n\n    return (\n        <React.Fragment>\n            <div onClick={() => setShow(true)}>\n                {data.join('、')} 点整\n            </div>\n            <Popup \n                show={show}\n                onRequestClose={()=> setShow(false)}\n                >\n                <PopupHeader\n                    left=\"关闭\"\n                    right=\"确认\"\n                    leftOnClick={() => setShow(false)}\n                    rightOnClick={onConfirm}>\n                </PopupHeader>\n                <Grids data={gData} />\n            </Popup>\n            <Toast icon=\"success-no-circle\" show={toastMsg.length > 0}>{toastMsg}</Toast>\n        </React.Fragment>\n        \n    )\n}","import React, { useState, useEffect} from 'react';\nimport { Button, Form, FormCell, Label, Input, CellHeader, Select, CellsTitle, Cell, CellBody, CellFooter, Icon, FlexItem, Flex} from 'react-weui';\nimport BibleSelector from './BibleSelector';\nimport HourSelector from './HourSelector';\nimport {BibleBook} from '../../utils/consts';\nimport moment from 'moment';\nimport { fetch } from '../../utils/fetch';\n\n\nconst TheEndBook = BibleBook[BibleBook.length-1];\n\nconst FixNumberPlanDTO =  {\n    startBook: ['马太福音', 1],\n    startDay: 20210307,\n    chapterOneDay: 3\n}\n\nconst FixTimePlanDTO =  {\n    startBook: ['马太福音', 1],\n    endBook: ['启示录', 22],\n    startDay: 20210307,\n    endDay: 20210407\n}\n\nconst Type_FIXNUM = 'fixNumber';\nconst Type_FIXTIME = 'fixTime';\nwindow.moment =moment;\nconst dateN2S = (n) => moment(n, 'YYYYMMDD').format('YYYY-MM-DD');\nconst dateS2N = (s) => +moment(s, 'YYYY-MM-DD').format('YYYYMMDD')\n\nexport default function BibleSetting({ data: { biblePlan, topic } = {}, roomId, showToastNextToptip}) {\n    const [originPlan, setOriginPlan] = useState(null);\n    const [planType, setPlanType] = useState(Type_FIXNUM);\n    const [startBook, setStartBook] = useState(['马太福音', 1]);\n    const [endBook, setEndBook] = useState([TheEndBook[0], TheEndBook[2]]);\n    const [chapterOneDay, setChapterOneDay] = useState(3);\n    const [startDay, setStartDay] = useState(+moment().format('YYYYMMDD'));\n    const [endDay, setEndDay] = useState(+moment().add(90, 'day').format('YYYYMMDD'));\n    const [remindHour, setRemindHour] = useState([6, 18]);\n\n    useEffect(()=>{\n        if (biblePlan) {\n            setOriginPlan(biblePlan);\n            const schedule = biblePlan.schedule;\n            setStartBook(schedule.startBook);\n            setStartDay(schedule.startDay);\n            \n            if ('chapterOneDay' in schedule) {\n                setPlanType(Type_FIXNUM);\n                setChapterOneDay(schedule.chapterOneDay)\n            } else {\n                setPlanType(Type_FIXTIME);\n                setEndBook(schedule.endBook);\n                setEndDay(schedule.endDay);\n            }\n        }\n    }, [biblePlan])\n\n\n    const onTypeChange = (e) => setPlanType(e.target.value);\n    const isFixNum = planType === Type_FIXNUM;\n    const isFixTime = planType === Type_FIXTIME;\n\n    const onRemindHourChange = (remindHour) => {\n        setRemindHour(remindHour);\n\n        \n        if (!originPlan) { return }\n        // 已存在读经计划，则直接更新提示时间\n        showToastNextToptip('正在修改', 'loading', (next) => {\n            fetch('/bible-plan/updateRemind', {\n                roomId: roomId,\n                remindHour\n            }).then(() => {\n                next('修改成功', 'primary')\n            }).catch((err) => {\n                next('修改失败', 'warn')\n            })\n        })\n    }\n\n    const onCancelClick = () => {\n        showToastNextToptip('正在取消', 'loading', (next)=> {\n            fetch('/bible-plan/cancel', {\n                roomId: roomId\n            }).then(() => {\n                next('取消成功', 'primary')\n                setOriginPlan(null);\n            }).catch((err)=> {\n                next('取消失败', 'warn')\n            })\n        })\n    }\n\n    const onCreateClick = () => {\n        const schedule = {\n            startDay,\n            startBook,\n        }\n\n        if (planType === Type_FIXNUM) {\n            schedule.chapterOneDay = chapterOneDay;\n        } else {\n            schedule.endDay = endDay;\n            schedule.endBook = endBook;\n        }\n\n\n        showToastNextToptip('正在创建', 'loading', (next) => {\n            fetch('/bible-plan/create', {\n                roomId: roomId,\n                roomName: topic,\n                schedule: schedule,\n                remindHour\n            }).then((biblePlan) => {\n                next('创建成功', 'success')\n                setOriginPlan(biblePlan)\n            }).catch((err) => {\n                next('创建失败', 'error')\n            })\n        })\n    }\n\n    return (\n        <React.Fragment>\n            <CellsTitle>读经计划</CellsTitle>\n            <Form select>\n                <FormCell select selectPos=\"after\">\n                    <CellHeader>\n                        <Label>计划类型</Label>\n                    </CellHeader>\n                    <CellBody >\n                        <Select value={planType} selectPos=\"after\" style={{ paddingLeft: '40%' }} onChange={onTypeChange} disabled={originPlan}>\n                            <option value={Type_FIXNUM}>每日固定章数</option>\n                            <option value={Type_FIXTIME}>固定时间完成</option>\n                        </Select>\n                    </CellBody>\n                </FormCell>\n                <FormCell>\n                    <CellBody>\n                        <Label>开始时间</Label>\n                    </CellBody>\n                    <CellBody style={{ textAlign: 'right' }}>\n                        <Input type=\"date\" style={{textAlign: 'end'}}value={dateN2S(startDay)} onChange={e => setStartDay(dateS2N(e.target.value))} disabled={originPlan}/>\n                    </CellBody>\n                </FormCell>\n                {isFixTime &&\n                    <FormCell>\n                        <CellBody>\n                            <Label>结束时间</Label>\n                        </CellBody>\n                        <CellBody style={{ textAlign: 'right' }}>\n                        <Input type=\"date\" value={dateN2S(endDay)} onChange={e => setEndDay(dateS2N(e.target.value))} disabled={originPlan}/>\n                        </CellBody>\n                    </FormCell>\n                }\n                <BibleSelector title=\"开始书卷\" data={startBook} onChange={setStartBook} disabled={originPlan}/>\n                {isFixTime && <BibleSelector title=\"结束书卷\" data={endBook} onChange={setEndBook} disabled={originPlan}/>}\n                {isFixNum &&\n                    <FormCell>\n                        <CellBody>\n                            <Label>每日章数</Label>\n                        </CellBody>\n                        <CellBody style={{ textAlign: 'right' }}>\n                            <Flex style={{ justifyContent: 'flex-end'}}>\n                            <i style={{ display: 'inline-block', width: '50px', height: '100%', backgroundColor: '#eee', textAlign: 'center' }} onClick={() => !originPlan && setChapterOneDay(chapterOneDay > 1 ? chapterOneDay-1 : 1)}> - </i>\n                                <Input type=\"number\" style={{ width: '50px', textAlign:'center'}} disabled={originPlan}\n                                    value={chapterOneDay} onChange={e => setChapterOneDay(e.target.value)}\n                                />\n                            <i style={{ display: 'inline-block', width: '50px', height: '100%', backgroundColor: '#eee', textAlign: 'center' }} onClick={() => !originPlan && setChapterOneDay(chapterOneDay < 100 ? chapterOneDay + 1 : 100)}> + </i>\n                            </Flex>\n                        </CellBody>\n                    </FormCell>\n                }\n                <FormCell>\n                    <CellBody>\n                        <Label>推送时间</Label>\n                    </CellBody>\n                    <CellBody style={{textAlign: 'right'}}>\n                        <HourSelector data={remindHour} onChange={onRemindHourChange}/>\n                    </CellBody>\n                </FormCell>\n                <Cell>\n                    <Button onClick={onCreateClick} disabled={originPlan}>创建读经计划</Button>\n                </Cell>\n                {originPlan && <Cell style={{ fontSize: '12px' }}>\n                    创建读经计划后，只能修改推送时间。如需修改其他读经设置，请在群聊中使用「关闭读经计划」命令后，重新创建\n                </Cell>}\n            </Form>\n           \n        </React.Fragment>)\n}","import React from 'react';\nimport { Cells, Cell, CellBody, CellFooter } from 'react-weui';\n\nexport default function Room({ data: { topic } = {} }) {\n    return (\n        <React.Fragment>\n            <Cells style={{ marginTop: 0 }}>\n                <Cell>\n                    <CellBody>群聊名称</CellBody>\n                    <CellFooter>\n                        {topic}\n                    </CellFooter>\n                </Cell>\n            </Cells>\n            \n        </React.Fragment>\n    )\n}","import { useState, useEffect} from 'react';\nimport './App.css';\nimport ChengXing from './components/ChengXing';\nimport BiblePlan from  './components/BiblePlan';\nimport RoomInfo from './components/RoomInfo';\nimport { fetch } from './utils/fetch';\nimport { Toast, Toptips} from 'react-weui';\n\n//import styles\nimport 'weui';\nimport 'react-weui/build/packages/react-weui.css';\n\nfunction App() {\n  const [roomId, setRoomId] = useState(null);\n  const [roomSettings, setRoomSettings] = useState({});\n  const [toastMsg, setToastMsg] = useState('加载中');\n  const [toastIcon, setToastIcon] = useState('loading');\n  const [toptipType, setToptipType] = useState('primary');\n  const [toptipMsg, setTopTipMsg] = useState('');\n\n  \n\n\n  useEffect(()=>{\n    if (!roomId) {\n      const match = /roomId=([^&]+)/.exec(window.location.search);\n      if (!match) {\n        showToast('无效的页面链接', 'warn', 5000);\n      } else {\n        setRoomId(match[1]);\n      }\n    } else {\n      fetch('/roomSettings', {\n        roomId\n      }).then(data => {\n        setRoomSettings(data)\n        setToastMsg('');\n      }).catch(err => {\n        setToastMsg(err.toString());\n        setTimeout(() => {\n          setToastMsg('')\n        }, 2000);\n      })\n    }\n   \n  }, [roomId])\n  const showToast = (text, type= 'loading', time = 2000)=> {\n    setToastMsg(text);\n    setToastIcon(type);\n\n    setTimeout(() => {\n      setToastMsg('');\n      setToastIcon('loading')\n    }, time);\n  }\n\n  const showTopTip = (text, type ='primary', time = 1000) => {\n    setTopTipMsg(text);\n    setToptipType(type);\n\n    setTimeout(()=>{\n      setTopTipMsg('');\n      setToptipType('primary');\n    }, time)\n  }\n\n  const showToastNextToptip = (text, type='loading', callback) => {\n    function next(...params) {\n      showTopTip(...params);\n      setTimeout(() => {\n        setToastMsg('');\n      }, 200);\n    }\n    setToastMsg(text);\n    setToastIcon(type);\n    callback(next)\n  }\n  \n  return (\n    <div className=\"App\">\n      <RoomInfo data={roomSettings} roomId={roomId} showToast={showToast} showToastNextToptip={showToastNextToptip}/>\n      <ChengXing data={roomSettings} roomId={roomId} showToast={showToast} showToastNextToptip={showToastNextToptip}/>\n      <BiblePlan data={roomSettings} roomId={roomId} showToast={showToast} showToastNextToptip={showToastNextToptip}/>\n      <Toast icon={toastIcon} show={toastMsg.length >0 }>{toastMsg}</Toast>\n      <Toptips type={toptipType} show={toptipMsg.length > 0}> {toptipMsg} </Toptips>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}